{% extends "base.html" %}
{% from "components/breadcrumb.html" import breadcrumb_nav %}
{% from "components/lesson_content_viewer.html" import lesson_content_viewer %}
{% from "components/lesson_file_info.html" import lesson_file_info %}

{% block title %}{{ lesson_title }} - Learn Sphere{% endblock %}

{% block content %}
<div class="ls-lesson-view-page">
    <main class="ls-lesson-view-main">
        <!-- Back Button -->
        <div class="ls-back-button-container">
            <a href="{{ url_for('course.details', course_id=course_id) }}" class="ls-back-button">
                ‚Üê Back to Course
            </a>
        </div>

        {{ breadcrumb_nav(breadcrumbs) }}

        <!-- Lesson Title -->
        <h1 class="ls-lesson-view-title">{{ lesson_title }}</h1>

        <!-- Lesson File Info Component -->
        {{ lesson_file_info(file_format, file_size, duration) }}

        <!-- Lesson Content Viewer Component -->
        {{ lesson_content_viewer(lesson_type, media_url, download_url, text_content, is_markdown, is_pdf, is_html, video_speed, audio_speed) }}
    </main>
</div>

<script src="{{ url_for('static', filename='js/lesson-player.js') }}"></script>
{% endblock %}
